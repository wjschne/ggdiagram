{
  "hash": "ffd4ca26130411c59678d2cb9926a50f",
  "result": {
    "engine": "knitr",
    "markdown": "---\ntitle: \"Polygons\"\nformat: \n  html:\n    toc: true\n    html-math-method: katex\nvignette: >\n  %\\VignetteIndexEntry{polygons}\n  %\\VignetteEngine{quarto::html}\n  %\\VignetteEncoding{UTF-8}\n---\n\n\n\n\n\n# Setup\n\n## Packages\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(ggdiagram)\nlibrary(ggplot2)\nlibrary(dplyr)\nlibrary(ggtext)\nlibrary(ggarrow)\nlibrary(arrowheadr)\n\n```\n:::\n\n\n\n## Base Plot\n\nTo avoid repetitive code, we make a base plot:\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\n\nmy_font <- \"Roboto Condensed\"\nmy_font_size <- 20\nmy_point_size <- 2\nmy_arrowhead <- arrowheadr::arrow_head_deltoid(d = 2.3, n = 100)\n\n# my_colors <- viridis::viridis(2, begin = .25, end = .5)\nmy_colors <- c(\"#3B528B\", \"#21908C\")\n\ntheme_set(\n  theme_minimal(\n    base_size = my_font_size,\n    base_family = my_font) +\n    theme(axis.title.y = element_text(angle = 0, vjust = 0.5)))\n\nbp <- ggdiagram(\n  font_family = my_font,\n  font_size = my_font_size,\n  point_size = my_point_size,\n  linewidth = .5,\n  theme_function = theme_minimal,\n  axis.title.x =  element_text(face = \"italic\"),\n  axis.title.y = element_text(\n    face = \"italic\",\n    angle = 0,\n    hjust = .5,\n    vjust = .5)) +\n  scale_x_continuous(labels = signs_centered,\n                     limits = c(-4, 4)) +\n  scale_y_continuous(labels = signs::signs,\n                     limits = c(-4, 4))\n\n```\n:::\n\n\n\n# Polygons\n\nThe `ob_polygon` function creates an object that connects points to make a polygon.\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\np <- ob_point(x = c(-4,-3, 4,  3, -1), \n           y = c( 0, 4, 3, -3, -4))\nbp + \n  ob_polygon(p, fill = \"dodgerblue3\")\n```\n\n::: {.cell-output-display}\n![Plotting a path.](polygons_files/figure-html/fig-path-1.png){#fig-path width=672}\n:::\n:::\n\n\n\n\n# Polygon Labels\n\nThe label of a `ob_polygon` object is placed, by default, at the centroid of the polygon. The centroid is the point whose x coordinate is the average of all the x coordinates of the polygon's points and whose y coordinate is likewise the average of all the point's y coordinates.\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nbp +\n  ob_polygon(\n    p = p,\n    label = ob_label(\n      \"My<br>Polygon\",\n      size = 20,\n      color = \"white\"\n    ),\n    fill = \"dodgerblue4\"\n  )\n\n```\n\n::: {.cell-output-display}\n![A path with a curved label](polygons_files/figure-html/fig-polygonlabel-1.png){#fig-polygonlabel width=672}\n:::\n:::\n\n\n\n# Connecting polygons\n\nConnections between polygons are arrows that emanate from and point towards the polygons' centroids.\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nbp + \n  {p1 <- ob_polygon(.5 * p - ob_point(1.9,1.9), \n              fill = \"dodgerblue4\")} + \n  {p2 <- ob_polygon(.5 * p + ob_point(1.9, 1.9), \n              fill = \"orchid4\")} + \n  connect(p1, p2, \n          resect = 1, \n          label = \".45\")\n```\n\n::: {.cell-output-display}\n![Arrow between two polygons](polygons_files/figure-html/fig-polygonconnect-1.png){#fig-polygonconnect width=672}\n:::\n:::\n\n\n\n# Rounding polygons\n\nThe `@radius` property controls the radius of the rounded vertices. It must be of length 1. It can be given in as a `ggplot2::unit` or as a numeric value. If numeric, it is understood as a proportion of the plot area width.\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nbp + \n  ob_polygon(\n    p, \n    radius = unit(5, \"mm\"),\n    fill = \"dodgerblue4\")\n```\n\n::: {.cell-output-display}\n![A polygon with rounded vertices](polygons_files/figure-html/fig-roundedpolygon-1.png){#fig-roundedpolygon width=672}\n:::\n:::\n",
    "supporting": [
      "polygons_files"
    ],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}