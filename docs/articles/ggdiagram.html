<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>Using ggdiagram • ggdiagram</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="96x96" href="../favicon-96x96.png">
<link rel="icon" type="”image/svg+xml”" href="../favicon.svg">
<link rel="apple-touch-icon" sizes="180x180" href="../apple-touch-icon.png">
<link rel="icon" sizes="any" href="../favicon.ico">
<link rel="manifest" href="../site.webmanifest">
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/Roboto_Condensed-0.4.10/font.css" rel="stylesheet">
<link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet">
<link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet">
<script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><script src="ggdiagram_files/libs/quarto-html/popper.min.js"></script><script src="ggdiagram_files/libs/quarto-html/tippy.umd.min.js"></script><link href="ggdiagram_files/libs/quarto-html/tippy.css" rel="stylesheet">
<link href="ggdiagram_files/libs/quarto-html/light-border.css" rel="stylesheet">
<!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Using ggdiagram">
<meta property="og:image" content="https://wjschne.github.io/ggdiagram/logo.png">
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-primary" data-bs-theme="dark" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">ggdiagram</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.1.0</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="active nav-item"><a class="nav-link" href="../articles/ggdiagram.html">Get started</a></li>
<li class="nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles">
<li><a class="dropdown-item" href="../articles/angles.html">Angles</a></li>
    <li><a class="dropdown-item" href="../articles/arcwedges.html">Arcs and Wedges</a></li>
    <li><a class="dropdown-item" href="../articles/automation.html">Repetition and Automation</a></li>
    <li><a class="dropdown-item" href="../articles/bezier.html">Bézier Curves</a></li>
    <li><a class="dropdown-item" href="../articles/causalpaths.html">Path Diagrams</a></li>
    <li><a class="dropdown-item" href="../articles/circles.html">Circles</a></li>
    <li><a class="dropdown-item" href="../articles/colors.html">Colors</a></li>
    <li><a class="dropdown-item" href="../articles/ellipses.html">Ellipses</a></li>
    <li><a class="dropdown-item" href="../articles/equations.html">Equations with LaTeX</a></li>
    <li><a class="dropdown-item" href="../articles/lines.html">Lines</a></li>
    <li><a class="dropdown-item" href="../articles/paths.html">Paths</a></li>
    <li><a class="dropdown-item" href="../articles/points.html">Points</a></li>
    <li><a class="dropdown-item" href="../articles/polygons.html">Polygons</a></li>
    <li><a class="dropdown-item" href="../articles/rectangles.html">Rectangles</a></li>
    <li><a class="dropdown-item" href="../articles/segments.html">Segments</a></li>
  </ul>
</li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul>
<ul class="navbar-nav">
<li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json">
</form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/wjschne/ggdiagram/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul>
</div>


  </div>
</nav><div class="container template-quarto">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>Using ggdiagram</h1>




      <small class="dont-index">Source: <a href="https://github.com/wjschne/ggdiagram/blob/HEAD/vignettes/ggdiagram.qmd" class="external-link"><code>vignettes/ggdiagram.qmd</code></a></small>
      <div class="d-none name"><code></code></div>
    </div>






    <div class="cell">
<div class="sourceCode cell-code" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://ggplot2.tidyverse.org" class="external-link">ggplot2</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/wjschne/ggdiagram" class="external-link">ggdiagram</a></span><span class="op">)</span></span></code></pre></div>
</div>
<p>Making a simple diagram with a point-and-click drawing program saves time and can produce good results if handled with care. However, making a complex diagram worthy of publication can take many hours of fuss and bother.</p>
<p>When I discovered <a href="https://tikz.dev/" class="external-link">TikZ</a>, I was amazed at how much better my diagrams could be. TikZ knows things about the objects it draws—like where lines and objects intersect and how far they are from each other. Instead of eyeballing where to place objects, I could tell TikZ exactly where to draw objects in relation to each other (e.g., draw a circle to the right of rectangle with 4cm of space between them). I suspect that the precision, consistency, and beauty of TikZ diagrams add to their persuasive power because readers intuit that such figures are the product of careful deliberation.</p>
<p>Because I mainly compute statistical models in R, getting information from R to TikZ was an intensive process, and integrating TikZ graphics with R graphics was often an exercise in frustration. Though I very much respect the labor of those who have made the TikZ ecosystem open and flexible, I never felt at ease when trying to automate TikZ or extending its capabilities.</p>
<p>When the <a href="https://rconsortium.github.io/S7/" class="external-link">S7 package</a> became available, it seemed that what I wanted was within my grasp: to draw diagrams with an object-oriented approach, welding the precision of TikZ with the flexibility of R. The ggdiagram package makes objects that can hold or compute various properties and can be placed directly in a ggplot2 plot. I do not imagine that ggdiagram will ever duplicate the full functionality of TikZ, but being able to make TikZ-like diagrams within R eliminates many pain points from my previous workflow and offers a world of possibilities.</p>
<section class="section level2"><h2 id="first-steps">First steps<a class="anchor" aria-label="anchor" href="#first-steps"></a>
</h2>
<p>The ggplot2 ecosystem already has the ability to create points, lines, and shapes, and it is ideally suited for the display of data and statistical trends. There is no reason to use ggdiagram for the tasks that ggplot2 already does fabulously well. However, once ggplot2 creates points, lines, and shapes, it is not always easy to extract information about them to create new objects. For example, if I draw a line segment from the center of an ellipse to the center of a rectangle, where does the line intersect with the ellipse and the rectangle? Where is the point midway between those intersection points? These quantities can be computed with a bit of algebra and trigonometry, but when making complex figures, such computations are tedious distractions.</p>
<p>The functions in ggdiagram with the <code>ob_</code> prefix (e.g,. <code>ob_point</code>, <code>ob_line</code>, and <code>ob_circle</code>) create objects using <a href="https://rconsortium.github.io/S7/" class="external-link">S7</a>, which allows the objects to hold information about the object’s properties (e.g., location, color, and rotation angle) and to compute the location of its edges and points of intersection with other objects. Properties of S7 objects are extracted with the <code>@</code> operator. For example, we can create a circle with the <code>ob_circle</code> function and extract various properties:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">x</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/ob_circle.html">ob_circle</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="va">x</span><span class="op">@</span><span class="va">radius</span></span>
<span><span class="co">#&gt; [1] 1</span></span>
<span><span class="va">x</span><span class="op">@</span><span class="va">circumference</span></span>
<span><span class="co">#&gt; [1] 6.283185</span></span>
<span><span class="va">x</span><span class="op">@</span><span class="va">area</span></span>
<span><span class="co">#&gt; [1] 3.141593</span></span>
<span><span class="va">x</span><span class="op">@</span><span class="va">diameter</span></span>
<span><span class="co">#&gt; [1] 2</span></span></code></pre></div>
</div>
</section><section class="section level2"><h2 id="simple-plots">Simple Plots<a class="anchor" aria-label="anchor" href="#simple-plots"></a>
</h2>
<p>As seen in <a href="#fig-ob" class="quarto-xref">Figure 1</a>, objects with the <code>ob_</code> prefix can be added to any ggplot object in the usual manner.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Plot</span></span>
<span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html" class="external-link">ggplot</a></span><span class="op">(</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="../reference/ob_circle.html">ob_circle</a></span><span class="op">(</span>radius <span class="op">=</span> <span class="fl">1</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="../reference/ob_rectangle.html">ob_rectangle</a></span><span class="op">(</span>width <span class="op">=</span> <span class="fl">2</span>, </span>
<span>               height <span class="op">=</span> <span class="fl">2</span><span class="op">)</span> <span class="op">+</span> </span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/coord_fixed.html" class="external-link">coord_equal</a></span><span class="op">(</span><span class="op">)</span> <span class="op">+</span> </span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggtheme.html" class="external-link">theme_void</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
<div class="cell-output-display">
<div id="fig-ob" class="quarto-float quarto-figure quarto-figure-center">
<figure class="quarto-float quarto-float-fig"><div aria-describedby="fig-ob-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="ggdiagram_files/figure-html/fig-ob-1.png" width="672">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-ob-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure 1: Adding objects using the <code>ggplot</code> function
</figcaption></figure>
</div>
</div>
</div>
<p>The <code>ggdiagram</code> function calls the <code>ggplot</code> function, sets the ggplot2 theme (defaults to <code>theme_void</code>), and also sets the defaults of key geoms so that font families, font sizes, line widths, and point sizes do not have to be specified repeatedly.</p>
<p>In <a href="#fig-theta" class="quarto-xref">Figure 2</a>, we can locate points on a circle’s circumference at any angle. The <code>degree</code> function makes it easy to compute and label angles as degrees.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">theta</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/ob_angle.html">degree</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0</span>, <span class="fl">53</span>, <span class="fl">90</span>, <span class="fl">138</span>, <span class="fl">180</span>, <span class="fl">241</span>, <span class="fl">270</span>, <span class="fl">338</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="va">x</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/ob_circle.html">ob_circle</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="fu"><a href="../reference/ggdiagram.html">ggdiagram</a></span><span class="op">(</span>font_size <span class="op">=</span> <span class="fl">18</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="va">x</span> <span class="op">+</span></span>
<span>  <span class="va">x</span><span class="op">@</span><span class="va">center</span> <span class="op">+</span></span>
<span>  <span class="va">x</span><span class="op">@</span><span class="va">point_at</span><span class="op">(</span><span class="va">theta</span><span class="op">)</span><span class="op">@</span><span class="va">label</span><span class="op">(</span><span class="va">theta</span><span class="op">)</span></span></code></pre></div>
<div class="cell-output-display">
<div id="fig-theta" class="quarto-float quarto-figure quarto-figure-center">
<figure class="quarto-float quarto-float-fig"><div aria-describedby="fig-theta-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="ggdiagram_files/figure-html/fig-theta-1.png" width="672">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-theta-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure 2: The center of a circle and a point at an angle.
</figcaption></figure>
</div>
</div>
</div>
</section><section class="section level2"><h2 id="styling-an-object">Styling an object<a class="anchor" aria-label="anchor" href="#styling-an-object"></a>
</h2>
<p>Objects in ggdiagram can be styled in any way that its underlying geom can be styled. Let’s create a segment and its two endpoints.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">p1</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/ob_point.html">ob_point</a></span><span class="op">(</span><span class="op">-</span><span class="fl">3</span>, <span class="fl">2</span><span class="op">)</span></span>
<span><span class="va">p2</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/ob_point.html">ob_point</a></span><span class="op">(</span><span class="fl">1</span>, <span class="fl">5</span><span class="op">)</span></span>
<span><span class="va">s1</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/ob_segment.html">ob_segment</a></span><span class="op">(</span><span class="va">p1</span>, <span class="va">p2</span><span class="op">)</span></span>
<span><span class="va">bp</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/ggdiagram.html">ggdiagram</a></span><span class="op">(</span>theme_function <span class="op">=</span> <span class="fu">ggplot2</span><span class="fu">::</span><span class="va"><a href="https://ggplot2.tidyverse.org/reference/ggtheme.html" class="external-link">theme_minimal</a></span>, </span>
<span>                font_size <span class="op">=</span> <span class="fl">18</span><span class="op">)</span></span>
<span><span class="va">bp</span> <span class="op">+</span></span>
<span>  <span class="va">p1</span> <span class="op">+</span></span>
<span>  <span class="va">p2</span> <span class="op">+</span></span>
<span>  <span class="va">s1</span></span></code></pre></div>
<div class="cell-output-display">
<div>
<figure><p><img src="ggdiagram_files/figure-html/s1-1.png" width="672"></p>
</figure>
</div>
</div>
</div>
<p>The primary options for styling a segment are alpha, color, linetype, and linewidth. However, it can take any style from <a href="https://teunbrand.github.io/ggarrow/reference/geom_arrow_segment.html" class="external-link"><code>ggarrow::geom_arrow_segment</code></a></p>
<p>If you are not sure which properties can be set, you an see them in the <code>@aesthetics@style</code> slot.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">s1</span><span class="op">@</span><span class="va">aesthetics</span><span class="op">@</span><span class="va">style</span></span>
<span><span class="co">#&gt;  [1] "alpha"            "arrow_head"       "arrow_fins"       "arrowhead_length"</span></span>
<span><span class="co">#&gt;  [5] "color"            "length_head"      "length_fins"      "lineend"         </span></span>
<span><span class="co">#&gt;  [9] "linejoin"         "linewidth"        "linewidth_fins"   "linewidth_head"  </span></span>
<span><span class="co">#&gt; [13] "linetype"         "resect"           "resect_fins"      "resect_head"     </span></span>
<span><span class="co">#&gt; [17] "stroke_color"     "stroke_width"</span></span></code></pre></div>
</div>
<p>Styles can be specified when the object is created.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">s2</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/ob_segment.html">ob_segment</a></span><span class="op">(</span><span class="va">p1</span>, <span class="va">p2</span>, color <span class="op">=</span> <span class="st">"green4"</span><span class="op">)</span></span>
<span><span class="va">bp</span> <span class="op">+</span> <span class="va">s2</span></span></code></pre></div>
<div class="cell-output-display">
<div id="fig-segcolor" class="quarto-float quarto-figure quarto-figure-center">
<figure class="quarto-float quarto-float-fig"><div aria-describedby="fig-segcolor-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="ggdiagram_files/figure-html/fig-segcolor-1.png" width="672">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-segcolor-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure 3: Styling an object
</figcaption></figure>
</div>
</div>
</div>
<p>Styles can be modified after the segment is created:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">s2</span><span class="op">@</span><span class="va">linewidth</span> <span class="op">&lt;-</span> <span class="fl">3</span></span>
<span><span class="va">bp</span> <span class="op">+</span> <span class="va">s2</span></span></code></pre></div>
<div class="cell-output-display">
<div id="fig-seglinewidth" class="quarto-float quarto-figure quarto-figure-center">
<figure class="quarto-float quarto-float-fig"><div aria-describedby="fig-seglinewidth-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="ggdiagram_files/figure-html/fig-seglinewidth-1.png" width="672">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-seglinewidth-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure 4: Changing an object’s style after it has been created.
</figcaption></figure>
</div>
</div>
</div>
<p>A “pipe-friendly” way to modify any ggdiagram object is to use S7’s <code>set_props</code> function, which has been re-exported to ggdiagram for the sake of convenience.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">bp</span> <span class="op">+</span></span>
<span>  <span class="va">s1</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://rconsortium.github.io/S7/reference/props.html" class="external-link">set_props</a></span><span class="op">(</span>color <span class="op">=</span> <span class="st">"red"</span>,</span>
<span>            linetype <span class="op">=</span> <span class="st">"dashed"</span><span class="op">)</span></span></code></pre></div>
<div class="cell-output-display">
<div id="fig-setprops" class="quarto-float quarto-figure quarto-figure-center">
<figure class="quarto-float quarto-float-fig"><div aria-describedby="fig-setprops-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="ggdiagram_files/figure-html/fig-setprops-1.png" width="672">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-setprops-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure 5: Setting styles in a ggplot pipeline.
</figcaption></figure>
</div>
</div>
</div>
</section><section class="section level2"><h2 id="making-styles-stick-with-redefault">Making Styles Stick with <code>redefault</code>
<a class="anchor" aria-label="anchor" href="#making-styles-stick-with-redefault"></a>
</h2>
<p>To style an object the same way repeatedly, use the <code>redefault</code> function to create an alternate version of an <code>ob_*</code> function with the default arguments set differently. The <code>redefault</code> function is like <a href="https://purrr.tidyverse.org/reference/partial.html" class="external-link"><code>purrr::partial</code></a> except that preset arguments can still be modified. It can be used on any R function.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb10"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">ob_squircle</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/redefault.html">redefault</a></span><span class="op">(</span></span>
<span>  .f <span class="op">=</span> <span class="va">ob_ellipse</span>,</span>
<span>  m1 <span class="op">=</span> <span class="fl">4</span>,</span>
<span>  color <span class="op">=</span> <span class="cn">NA</span>,</span>
<span>  fill <span class="op">=</span> <span class="st">"black"</span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="../reference/ggdiagram.html">ggdiagram</a></span><span class="op">(</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu">ob_squircle</span><span class="op">(</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu">ob_squircle</span><span class="op">(</span>x <span class="op">=</span> <span class="fl">3</span>, fill <span class="op">=</span> <span class="st">"dodgerblue"</span><span class="op">)</span></span></code></pre></div>
<div class="cell-output-display">
<div id="fig-squircle" class="quarto-float quarto-figure quarto-figure-center">
<figure class="quarto-float quarto-float-fig"><div aria-describedby="fig-squircle-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="ggdiagram_files/figure-html/fig-squircle-1.png" width="528">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-squircle-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure 6: The <code>redefault</code> function creates a copy of a function with new defaults
</figcaption></figure>
</div>
</div>
</div>
</section><section class="section level2"><h2 id="apply-styles-across-shapes-with-ob_style">Apply Styles Across Shapes with <code>ob_style</code>
<a class="anchor" aria-label="anchor" href="#apply-styles-across-shapes-with-ob_style"></a>
</h2>
<p>Suppose you want to create a list of styles that you want to pass to multiple objects to create a cohesive style. The <code>ob_style</code> function can contain styles that can be passed along to other functions.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb11"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">style_shape</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/ob_style.html">ob_style</a></span><span class="op">(</span>color <span class="op">=</span> <span class="cn">NA</span>,</span>
<span>                        fill <span class="op">=</span> <span class="st">"dodgerblue4"</span>,</span>
<span>                        family <span class="op">=</span> <span class="st">"serif"</span><span class="op">)</span></span>
<span></span>
<span><span class="va">my_label</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/redefault.html">redefault</a></span><span class="op">(</span></span>
<span>  <span class="va">ob_label</span>,</span>
<span>  color <span class="op">=</span> <span class="st">"white"</span>,</span>
<span>  fill <span class="op">=</span> <span class="cn">NA</span>,</span>
<span>  family <span class="op">=</span> <span class="st">"serif"</span>,</span>
<span>  size <span class="op">=</span> <span class="fl">18</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="../reference/ggdiagram.html">ggdiagram</a></span><span class="op">(</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="../reference/ob_circle.html">ob_circle</a></span><span class="op">(</span></span>
<span>    x <span class="op">=</span> <span class="op">-</span><span class="fl">3</span>,</span>
<span>    style <span class="op">=</span> <span class="va">style_shape</span>,</span>
<span>    label <span class="op">=</span> <span class="fu">my_label</span><span class="op">(</span><span class="st">"Circle"</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="../reference/ob_rectangle.html">ob_rectangle</a></span><span class="op">(</span></span>
<span>    width <span class="op">=</span> <span class="fl">3</span>,</span>
<span>    style <span class="op">=</span> <span class="va">style_shape</span>,</span>
<span>    label <span class="op">=</span> <span class="fu">my_label</span><span class="op">(</span><span class="st">"Rectangle"</span><span class="op">)</span></span>
<span>  <span class="op">)</span>  <span class="op">+</span></span>
<span>  <span class="fu"><a href="../reference/ob_ellipse.html">ob_ellipse</a></span><span class="op">(</span></span>
<span>    x <span class="op">=</span> <span class="fl">3</span>,</span>
<span>    b <span class="op">=</span> <span class="fl">1.5</span>,</span>
<span>    style <span class="op">=</span> <span class="va">style_shape</span>,</span>
<span>    label <span class="op">=</span> <span class="fu">my_label</span><span class="op">(</span><span class="st">"Ellipse"</span><span class="op">)</span></span>
<span>  <span class="op">)</span> <span class="op">+</span> </span>
<span>  <span class="fu"><a href="../reference/ob_ngon.html">ob_ngon</a></span><span class="op">(</span></span>
<span>    y <span class="op">=</span> <span class="fl">2</span>,</span>
<span>    n <span class="op">=</span> <span class="fl">6</span>,</span>
<span>    angle <span class="op">=</span> <span class="fu"><a href="../reference/ob_angle.html">degree</a></span><span class="op">(</span><span class="fl">90</span><span class="op">)</span>, </span>
<span>    style <span class="op">=</span> <span class="va">style_shape</span>,</span>
<span>    label <span class="op">=</span> <span class="fu">my_label</span><span class="op">(</span><span class="st">"Hexagon"</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="../reference/ob_ngon.html">ob_ngon</a></span><span class="op">(</span></span>
<span>    y <span class="op">=</span> <span class="op">-</span><span class="fl">2</span>,</span>
<span>    n <span class="op">=</span> <span class="fl">3</span>,</span>
<span>    angle <span class="op">=</span> <span class="fu"><a href="../reference/ob_angle.html">degree</a></span><span class="op">(</span><span class="fl">90</span><span class="op">)</span>,</span>
<span>    style <span class="op">=</span> <span class="va">style_shape</span>,</span>
<span>    label <span class="op">=</span> <span class="fu">my_label</span><span class="op">(</span><span class="st">"Triangle"</span>, nudge_y <span class="op">=</span> <span class="op">-</span><span class="fl">.25</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<div class="cell-output-display">
<div id="fig-applystyles" class="quarto-float quarto-figure quarto-figure-center">
<figure class="quarto-float quarto-float-fig"><div aria-describedby="fig-applystyles-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="ggdiagram_files/figure-html/fig-applystyles-1.png" width="672">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-applystyles-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure 7: The <code>ob_style</code> function creates a list of styles that can be passed to other ggdiagram functions
</figcaption></figure>
</div>
</div>
</div>
</section><section class="section level2"><h2 id="placing-objects-in-relation-to-other-objects">Placing Objects in Relation to Other Objects<a class="anchor" aria-label="anchor" href="#placing-objects-in-relation-to-other-objects"></a>
</h2>
<p>The <code>place</code> function will place an object a specified distance and direction from another object. Here we place a 1 × 1 rectangle above unit circle <code>x</code> such that the separation between them is .5 units. The <code>connect</code> function draws an arrow between them, with 2mm of space resected.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb12"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">x</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/ob_circle.html">ob_circle</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="va">y</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/ob_rectangle.html">ob_rectangle</a></span><span class="op">(</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="../reference/place.html">place</a></span><span class="op">(</span>from <span class="op">=</span> <span class="va">x</span>,</span>
<span>        where <span class="op">=</span> <span class="st">"above"</span>,</span>
<span>        sep <span class="op">=</span> <span class="fl">.5</span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="../reference/ggdiagram.html">ggdiagram</a></span><span class="op">(</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="va">x</span> <span class="op">+</span></span>
<span>  <span class="va">y</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="../reference/connect.html">connect</a></span><span class="op">(</span><span class="va">x</span>, <span class="va">y</span>, resect <span class="op">=</span> <span class="fl">2</span><span class="op">)</span></span></code></pre></div>
<div class="cell-output-display">
<div id="fig-place" class="quarto-float quarto-figure quarto-figure-center" width="672">
<figure class="quarto-float quarto-float-fig"><div aria-describedby="fig-place-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="ggdiagram_files/figure-html/fig-place-1.png" id="fig-place" width="672">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig quarto-uncaptioned" id="fig-place-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure 8
</figcaption></figure>
</div>
</div>
</div>
<p>The <code>where</code> parameter can be specified with</p>
<ul>
<li>Direction words like <em>left</em>, <em>right</em>, <em>above</em>, <em>top</em>, <em>below</em>, <em>bottom</em>, <em>above left</em>, <em>top right</em>, <em>below right</em>, <em>bottom left</em>, etc.</li>
<li>Cardinal points like <em>north</em>, <em>south</em>, <em>east</em>, <em>west</em>, <em>northeast</em>, <em>southwest</em>, <em>north-northeast</em>, <em>west-southwest</em>, etc.</li>
<li>Degrees using the <code>degree</code> function (e.g., <code>degree(21)</code>)</li>
<li>Radians using the <code>radian</code> function (e.g., <code>radian(pi)</code>)</li>
<li>Turns using the <code>turn</code> function (e.g., <code>turn(1/5)</code>)</li>
</ul></section><section class="section level2"><h2 id="object-arrays-with-ob_array">Object Arrays with <code>ob_array</code>
<a class="anchor" aria-label="anchor" href="#object-arrays-with-ob_array"></a>
</h2>
<p>Sometimes it is useful to make arrays of objects. The <code>ob_array</code> function makes <code>k</code> copies of an object,arranges them in a line in a specified direction, and separates the objects by a specified amount. By default, the array is arranged horizontally, centered on the original object, separated by 1 unit. Here we make an array of 5 circles.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb13"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/ggdiagram.html">ggdiagram</a></span><span class="op">(</span>font_size <span class="op">=</span> <span class="fl">18</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="../reference/ob_circle.html">ob_circle</a></span><span class="op">(</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="../reference/ob_array.html">ob_array</a></span><span class="op">(</span>k <span class="op">=</span> <span class="fl">5</span>,</span>
<span>           label <span class="op">=</span> <span class="fl">1</span><span class="op">:</span><span class="fl">5</span>,</span>
<span>           where <span class="op">=</span> <span class="st">"southeast"</span>,</span>
<span>           sep <span class="op">=</span> <span class="fl">.5</span><span class="op">)</span> </span></code></pre></div>
<div class="cell-output-display">
<div id="fig-array1" class="quarto-float quarto-figure quarto-figure-center">
<figure class="quarto-float quarto-float-fig"><div aria-describedby="fig-array1-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="ggdiagram_files/figure-html/fig-array1-1.png" width="672">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-array1-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure 9: An array of 5 unit circles, separated by 0.5, pointing southeast
</figcaption></figure>
</div>
</div>
</div>
</section><section class="section level2"><h2 id="building-plots-sequentially-in-a-ggplot2-pipeline">Building Plots Sequentially in a ggplot2 Pipeline<a class="anchor" aria-label="anchor" href="#building-plots-sequentially-in-a-ggplot2-pipeline"></a>
</h2>
<p>Often we want to build a diagram in which newer objects depend on previously specified objects. To assign a variable in the middle of a ggplot2 workflow, we can enclose an assignment statement in curly braces <code><a href="https://rdrr.io/r/base/Paren.html" class="external-link">{}</a></code>.</p>
<p><a href="#fig-indicators" class="quarto-xref">Figure 10</a> makes use of a curly braces to create:</p>
<ul>
<li>Latent variable <em>A</em> as a circle with radius 2,</li>
<li>Observed variables <em>A</em><sub>1</sub>–<em>A</em><sub>3</sub> 3 units below <em>A</em>
</li>
<li>Loading paths (connecting arrows) from the latent <em>A</em> to observed variables <em>A</em><sub>1</sub>–<em>A</em><sub>3</sub>
</li>
<li>Error variance paths for each observed variable.</li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb14"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Loadings</span></span>
<span><span class="va">loadings</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">.86</span>, <span class="fl">.79</span>, <span class="fl">.90</span><span class="op">)</span></span>
<span><span class="va">error_variances</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/MathFun.html" class="external-link">sqrt</a></span><span class="op">(</span><span class="fl">1</span> <span class="op">-</span> <span class="va">loadings</span> <span class="op">^</span> <span class="fl">2</span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="../reference/ggdiagram.html">ggdiagram</a></span><span class="op">(</span>font_size <span class="op">=</span> <span class="fl">16</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="co"># Latent variable</span></span>
<span>  <span class="op">{</span><span class="va">A</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/ob_circle.html">ob_circle</a></span><span class="op">(</span>radius <span class="op">=</span> <span class="fl">2</span>,</span>
<span>                  label <span class="op">=</span> <span class="fu"><a href="../reference/ob_label.html">ob_label</a></span><span class="op">(</span><span class="st">"A"</span>,</span>
<span>                                   size <span class="op">=</span> <span class="fl">96</span>,</span>
<span>                                   nudge_y <span class="op">=</span> <span class="op">-</span><span class="fl">.15</span><span class="op">)</span><span class="op">)</span><span class="op">}</span> <span class="op">+</span></span>
<span>  <span class="co"># Observed variables (array of 3 superellipses below A)</span></span>
<span>  <span class="op">{</span><span class="va">A_3</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/ob_ellipse.html">ob_ellipse</a></span><span class="op">(</span>m1 <span class="op">=</span> <span class="fl">20</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>    <span class="fu"><a href="../reference/place.html">place</a></span><span class="op">(</span>from <span class="op">=</span> <span class="va">A</span>,</span>
<span>          where <span class="op">=</span> <span class="st">"below"</span>,</span>
<span>          sep <span class="op">=</span> <span class="fl">3</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>    <span class="fu"><a href="../reference/ob_array.html">ob_array</a></span><span class="op">(</span></span>
<span>      k <span class="op">=</span> <span class="fl">3</span>,</span>
<span>      sep <span class="op">=</span> <span class="fl">.5</span>,</span>
<span>      label <span class="op">=</span> <span class="fu"><a href="../reference/ob_label.html">ob_label</a></span><span class="op">(</span></span>
<span>        label <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste0</a></span><span class="op">(</span><span class="st">"A~"</span>, <span class="fl">1</span><span class="op">:</span><span class="fl">3</span>, <span class="st">"~"</span><span class="op">)</span>,</span>
<span>        size <span class="op">=</span> <span class="fl">32</span>,</span>
<span>        vjust <span class="op">=</span> <span class="fl">.6</span></span>
<span>      <span class="op">)</span></span>
<span>    <span class="op">)</span><span class="op">}</span> <span class="op">+</span></span>
<span>  <span class="co"># Observed variable loadings with labels set to the same y coordinate</span></span>
<span>  <span class="fu"><a href="../reference/connect.html">connect</a></span><span class="op">(</span></span>
<span>    from <span class="op">=</span> <span class="va">A</span>,</span>
<span>    to <span class="op">=</span> <span class="va">A_3</span>,</span>
<span>    resect <span class="op">=</span> <span class="fl">2</span>,</span>
<span>    label <span class="op">=</span> <span class="fu"><a href="../reference/ob_label.html">ob_label</a></span><span class="op">(</span>label <span class="op">=</span> <span class="fu"><a href="../reference/round_probability.html">round_probability</a></span><span class="op">(</span><span class="va">loadings</span><span class="op">)</span>,</span>
<span>                     angle <span class="op">=</span> <span class="fl">0</span><span class="op">)</span><span class="op">)</span><span class="op">@</span><span class="va">set_label_y</span><span class="op">(</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="co"># Error variances</span></span>
<span>  <span class="fu"><a href="../reference/ob_variance.html">ob_variance</a></span><span class="op">(</span></span>
<span>    <span class="va">A_3</span>,</span>
<span>    where <span class="op">=</span> <span class="st">"south"</span>,</span>
<span>    looseness <span class="op">=</span> <span class="fl">1.2</span>,</span>
<span>    bend <span class="op">=</span> <span class="op">-</span><span class="fl">20</span>,</span>
<span>    label <span class="op">=</span> <span class="fu"><a href="../reference/ob_label.html">ob_label</a></span><span class="op">(</span>label <span class="op">=</span> <span class="fu"><a href="../reference/round_probability.html">round_probability</a></span><span class="op">(</span><span class="va">error_variances</span><span class="op">)</span><span class="op">)</span></span>
<span>  <span class="op">)</span></span></code></pre></div>
<div class="cell-output-display">
<div id="fig-indicators" class="quarto-float quarto-figure quarto-figure-center">
<figure class="quarto-float quarto-float-fig"><div aria-describedby="fig-indicators-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="ggdiagram_files/figure-html/fig-indicators-1.png" width="528">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-indicators-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure 10: A latent variable with 3 observed indicators
</figcaption></figure>
</div>
</div>
</div>
</section><section class="section level2"><h2 id="changing-the-default-arrowhead">Changing the default arrowhead<a class="anchor" aria-label="anchor" href="#changing-the-default-arrowhead"></a>
</h2>
<p>Functions that can make arrows (e.g., <code>connect</code>, <code>ob_segment</code>, <code>ob_arc</code>, <code>ob_path</code>, <code>ob_bezier</code>) use functions from the <code>ggarrow</code> package. The arrowheads are <a href="https://teunbrand.github.io/ggarrow/articles/customisation.html" class="external-link">fully customizable</a>. The <a href="https://wjschne.github.io/arrowheadr/" class="external-link">arrowheadr</a> package has functions for many custom arrowheads and for creating new arrowheads.</p>
<p>The <code>arrowhead</code> function returns a matrix that draws the default arrowhead.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb15"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/arrowhead.html">arrowhead</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; ── &lt;class_arrowhead&gt;</span></span>
<span><span class="co">#&gt; A matrix with 2 columns and 200 rows. First 6 rows:</span></span>
<span><span class="co">#&gt;          x    y</span></span>
<span><span class="co">#&gt; [1,] -0.39 0.00</span></span>
<span><span class="co">#&gt; [2,] -0.39 0.02</span></span>
<span><span class="co">#&gt; [3,] -0.39 0.04</span></span>
<span><span class="co">#&gt; [4,] -0.40 0.06</span></span>
<span><span class="co">#&gt; [5,] -0.40 0.08</span></span>
<span><span class="co">#&gt; [6,] -0.40 0.10</span></span></code></pre></div>
</div>
<p>The default arrowhead is an elongated deltoid shape (i.e., <code>arrowheadr::arrow_head_deltoid(d = 2.3)</code>). Specifying a different arrowhead repeatedly is tedious.</p>
<p>Within the current R session, the default arrowhead can be changed to anything desired. For example,</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb16"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/arrowhead.html">set_default_arrowhead</a></span><span class="op">(</span><span class="fu">ggarrow</span><span class="fu">::</span><span class="fu"><a href="https://teunbrand.github.io/ggarrow/reference/arrow_ornaments.html" class="external-link">arrow_head_wings</a></span><span class="op">(</span>offset <span class="op">=</span> <span class="fl">30</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="fu"><a href="../reference/arrowhead.html">arrowhead</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; ── &lt;class_arrowhead&gt;</span></span>
<span><span class="co">#&gt; A matrix with 2 columns and 4 rows.</span></span>
<span><span class="co">#&gt;         x     y</span></span>
<span><span class="co">#&gt; [1,]  1.0  0.00</span></span>
<span><span class="co">#&gt; [2,] -0.5  0.87</span></span>
<span><span class="co">#&gt; [3,]  0.0  0.00</span></span>
<span><span class="co">#&gt; [4,] -0.5 -0.87</span></span></code></pre></div>
</div>
<p>Now any function that uses the default arrow will use the new default.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb17"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/ggdiagram.html">ggdiagram</a></span><span class="op">(</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="va">x</span> <span class="op">+</span></span>
<span>  <span class="va">y</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="../reference/connect.html">connect</a></span><span class="op">(</span><span class="va">x</span>, <span class="va">y</span>, resect <span class="op">=</span> <span class="fl">2</span><span class="op">)</span></span></code></pre></div>
<div class="cell-output-display">
<div>
<figure><p><img src="ggdiagram_files/figure-html/unnamed-chunk-3-1.png" width="672"></p>
</figure>
</div>
</div>
</div>
</section><script id="quarto-html-after-body" type="application/javascript">
  window.document.addEventListener("DOMContentLoaded", function (event) {
      var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
      var mailtoRegex = new RegExp(/^mailto:/);
        var filterRegex = new RegExp('/' + window.location.host + '/');
      var isInternal = (href) => {
          return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
      }
      // Inspect non-navigation links and adorn them if external
     var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
      for (var i=0; i<links.length; i++) {
        const link = links[i];
        if (!isInternal(link.href)) {
          // undo the damage that might have been done by quarto-nav.js in the case of
          // links that we want to consider external
          if (link.dataset.originalHref !== undefined) {
            link.href = link.dataset.originalHref;
          }
        }
      }
    function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
      const config = {
        allowHTML: true,
        maxWidth: 500,
        delay: 100,
        arrow: false,
        appendTo: function(el) {
            return el.parentElement;
        },
        interactive: true,
        interactiveBorder: 10,
        theme: 'light-border',
        placement: 'bottom-start',
      };
      if (contentFn) {
        config.content = contentFn;
      }
      if (onTriggerFn) {
        config.onTrigger = onTriggerFn;
      }
      if (onUntriggerFn) {
        config.onUntrigger = onUntriggerFn;
      }
      window.tippy(el, config);
    }
    const findCites = (el) => {
      const parentEl = el.parentElement;
      if (parentEl) {
        const cites = parentEl.dataset.cites;
        if (cites) {
          return {
            el,
            cites: cites.split(' ')
          };
        } else {
          return findCites(el.parentElement)
        }
      } else {
        return undefined;
      }
    };
    var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
    for (var i=0; i<bibliorefs.length; i++) {
      const ref = bibliorefs[i];
      const citeInfo = findCites(ref);
      if (citeInfo) {
        tippyHover(citeInfo.el, function() {
          var popup = window.document.createElement('div');
          citeInfo.cites.forEach(function(cite) {
            var citeDiv = window.document.createElement('div');
            citeDiv.classList.add('hanging-indent');
            citeDiv.classList.add('csl-entry');
            var biblioDiv = window.document.getElementById('ref-' + cite);
            if (biblioDiv) {
              citeDiv.innerHTML = biblioDiv.innerHTML;
            }
            popup.appendChild(citeDiv);
          });
          return popup.innerHTML;
        });
      }
    }
  });
  </script></main>
</div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by W. Joel Schneider.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.3.</p>
</div>

    </footer>
</div>





  </body>
</html>
